# input

```json
{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "TeamConfig",
	"type": "object",
	"properties": {
		"members": {
			"type": "array",
			"items": { "$ref": "#/definitions/Member" },
			"description": "List of team members with their roles"
		},
		"projects": {
			"type": "array",
			"items": { "$ref": "#/definitions/Project" },
			"description": "List of team projects and their status"
		}
	},
	"definitions": {
		"Member": {
			"type": "object",
			"required": ["id"],
			"properties": {
				"id": {
					"type": "string",
					"description": "Unique member identifier"
				},
				"role": {
					"type": "string",
					"description": "Member's role in the team"
				}
			}
		},
		"Project": {
			"type": "object",
			"required": ["name"],
			"properties": {
				"name": {
					"type": "string",
					"description": "Project name"
				},
				"active": {
					"type": "boolean",
					"description": "Whether the project is active",
					"default": true
				}
			}
		}
	}
}
```

---

# expected-output

```go
// Code generated by schema2go. DO NOT EDIT.
// üèóÔ∏è Generated from JSON Schema

package models

import (
    "encoding/json"
    "gitlab.com/tozd/go/errors"
)

// Member represents a team member
type Member struct {
    // Unique member identifier
    ID string `json:"id"` // Required

    // Member's role in the team
    Role *string `json:"role,omitempty"`
}

// Validate ensures all required fields are present
func (m *Member) Validate() error {
    if m.ID == "" {
        return errors.New("id is required")
    }
    return nil
}

// Project represents a team project
type Project struct {
    // Project name
    Name string `json:"name"` // Required

    // Whether the project is active
    Active *bool `json:"active,omitempty"` // Default: true
}

// Validate ensures all required fields are present
func (p *Project) Validate() error {
    if p.Name == "" {
        return errors.New("name is required")
    }
    return nil
}

// TeamConfig represents team configuration with members and projects
type TeamConfig struct {
    // List of team members with their roles
    Members []Member `json:"members,omitempty"`

    // List of team projects and their status
    Projects []Project `json:"projects,omitempty"`
}

// Validate ensures all nested objects are valid
func (t *TeamConfig) Validate() error {
    for i, member := range t.Members {
        if err := member.Validate(); err != nil {
            return errors.Errorf("validating member %d: %w", i, err)
        }
    }
    for i, project := range t.Projects {
        if err := project.Validate(); err != nil {
            return errors.Errorf("validating project %d: %w", i, err)
        }
    }
    return nil
}
```
