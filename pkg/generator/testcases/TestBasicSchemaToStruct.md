```json
{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "BasicExample",
	"type": "object",
	"required": ["id"],
	"properties": {
		"id": {
			"type": "string"
		},
		"count": {
			"type": "integer",
			"default": 0
		},
		"enabled": {
			"type": "boolean",
			"default": false
		},
		"ratio": {
			"type": "number"
		}
	}
}
```

```go
// Code generated by schema2go. DO NOT EDIT.
// üèóÔ∏è Generated from JSON Schema

package models

import (
	"encoding/json"
	"gitlab.com/tozd/go/errors"
)

type BasicExample struct {
	ID string `json:"id"` // Required
	Count *int `json:"count,omitempty"` // Default: 0
	Enabled *bool `json:"enabled,omitempty"` // Default: false
	Ratio *float64 `json:"ratio,omitempty"`
}

// UnmarshalJSON implements json.Unmarshaler
func (x *BasicExample) UnmarshalJSON(data []byte) error {
	// Define an alias to prevent recursive UnmarshalJSON calls
	type Alias BasicExample
	aux := &struct {
		*Alias
	}{
		Alias: (*Alias)(x),
	}
	if err := json.Unmarshal(data, &aux); err != nil {
		return errors.Errorf("unmarshaling json: %w", err)
	}

	// Apply defaults for missing fields
	if x.Count == nil {
		defaultValue := 0
		x.Count = &defaultValue
	}
	if x.Enabled == nil {
		defaultValue := false
		x.Enabled = &defaultValue
	}

	// Validate after applying defaults
	if err := x.Validate(); err != nil {
		return errors.Errorf("validating after unmarshal: %w", err)
	}

	return nil
}

// Validate ensures all required fields are present and valid
func (x *BasicExample) Validate() error {
	if x.ID == "" {
		return errors.New("id is required")
	}
	return nil
}

// MarshalJSON implements json.Marshaler
func (x BasicExample) MarshalJSON() ([]byte, error) {
	// Validate before marshaling
	if err := x.Validate(); err != nil {
		return nil, errors.Errorf("validating before marshal: %w", err)
	}

	// Use alias to avoid infinite recursion
	type Alias BasicExample
	return json.Marshal((*Alias)(&x))
}
```
