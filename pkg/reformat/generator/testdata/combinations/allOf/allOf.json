{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "Root",
	"type": "object",
	"properties": {
		"user": {
			"allOf": [
				{
					"type": "object",
					"properties": {
						"id": { "type": "integer" },
						"name": { "type": "string" }
					},
					"required": ["id"]
				},
				{
					"type": "object",
					"properties": {
						"email": {
							"type": "string",
							"format": "email"
						},
						"role": {
							"type": "string",
							"enum": ["admin", "user", "guest"]
						}
					},
					"required": ["email"]
				}
			],
			"description": "A user with both basic info and authentication details"
		}
	},
	"required": ["user"]
}
