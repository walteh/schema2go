{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"properties": {
		"payment": {
			"oneOf": [
				{
					"type": "object",
					"properties": {
						"type": {
							"type": "string",
							"enum": ["credit_card"]
						},
						"card_number": { "type": "string" },
						"expiry": { "type": "string" },
						"cvv": { "type": "string" }
					},
					"required": ["type", "card_number", "expiry", "cvv"]
				},
				{
					"type": "object",
					"properties": {
						"type": {
							"type": "string",
							"enum": ["bank_transfer"]
						},
						"account_number": { "type": "string" },
						"routing_number": { "type": "string" }
					},
					"required": ["type", "account_number", "routing_number"]
				},
				{
					"type": "object",
					"properties": {
						"type": {
							"type": "string",
							"enum": ["crypto"]
						},
						"wallet_address": { "type": "string" },
						"currency": {
							"type": "string",
							"enum": ["BTC", "ETH"]
						}
					},
					"required": ["type", "wallet_address", "currency"]
				}
			],
			"description": "Payment information - must be exactly one of the specified types"
		}
	},
	"required": ["payment"]
}
